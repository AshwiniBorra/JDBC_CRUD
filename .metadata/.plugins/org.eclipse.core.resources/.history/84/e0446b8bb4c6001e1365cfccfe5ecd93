package com.task.ui;
import com.task.service.*;

import com.task.bean.EmployeeBean;
import java.sql.SQLException;
import java.util.Scanner;


public class Demo_CRUD {
	public static void main(String[] args) throws ClassNotFoundException, SQLException {
		Scanner sc=new Scanner(System.in);
		System.out.println("Select your option");
		System.out.println("1.insert");//Create
		System.out.println("2.update");//update
		System.out.println("3.Select");//read
		System.out.println("4.Delete");//delete
		int option=sc.nextInt();
		switch(option){
			case 1:
			{
				insertEmployee();
				break;
			}
			case 2:
			{
				updateEmployee();
				break;
			}
			case 3:
			{
				selectEmployee();
				break;
			}
			case 4:
			{
			  deleteEmployee();
			  break;
			}
			default:
			{
				System.out.println("your entered option is not match");
			}
		}
	}	
	
	private static void insertEmployee() throws ClassNotFoundException, SQLException {
		EmployeeServiceImpl service=new EmployeeServiceImpl();
		EmployeeBean bean=new EmployeeBean();
		bean.setEmpid(101);
		bean.setEmpname("Ashu");
		bean.setEmpaddress("Hyd");
		service.insertEmployee(bean);
		
	}
	private static void updateEmployee() throws ClassNotFoundException,SQLException {
	EmployeeServiceImpl service = new EmployeeServiceImpl();
	  EmployeeBean bean = new EmployeeBean();
	  System.out.println("Enter Employee ID to update:");
	    int empId = sc.nextInt();
	    sc.nextLine();
	    
	    if (service.getEmployeeById(empId) == null) {
	        System.out.println("Employee with ID " + empId + " does not exist.");
	        return;
	    }
	    System.out.println("Enter new name:");
	    String newName = sc.nextLine();
	    System.out.println("Enter new address:");
	    String newAddress = sc.nextLine();

	  bean.setEmpid(101);
	  bean.setEmpname("Ajju");
	  bean.setEmpaddress("Mpt");
	  if (service.updateEmployee(bean)) {
	        System.out.println("Employee with ID " + empId + " updated successfully.");
	    } else {
	        System.out.println("Failed to update employee with ID " + empId);
	    }
	  //service.updateEmployee(bean);
	  

	  }
	 
	private static void selectEmployee() throws ClassNotFoundException, SQLException {
		EmployeeServiceImpl service=new EmployeeServiceImpl();
		EmployeeBean bean=new EmployeeBean();
		bean.setEmpid(101);
		bean.setEmpname("Ajju");
		bean.setEmpaddress("mpt");
		service.selectEmployee(bean);
	}
	private static void deleteEmployee() throws ClassNotFoundException, SQLException {
		EmployeeServiceImpl service=new EmployeeServiceImpl();
		EmployeeBean bean=new EmployeeBean();
		bean.setEmpid(101);
		bean.setEmpname("Ajju");
		bean.setEmpaddress("mpt");
		service.deleteEmployee(bean);
	}
	
    
		
	
}

